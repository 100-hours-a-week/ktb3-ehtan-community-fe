<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>하루 조각</title>
    <link rel="stylesheet" href="../style/common.css">
    <link rel="stylesheet" href="../style/post.css">
    <script type="module" src="../scripts/common.js"></script>

    <script type="module" src="../scripts/app/app-post.js"></script>

    <!-- 글꼴 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
</head>
<body>
    <div class="header-wrapper">
        <div class="header-left">
            <button type="button" class="header-action" id="sidebar-toggle">
                <svg class="icon-select" width="32" height="32" viewBox="0 0 24 24" stroke="currentColor">
                    <path d="M4 7h16M4 12h16M4 17h16"
                            stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </button>
            <div class="header-title"><a href="/index.html">하루 조각</a></div>
        </div>
        <div class="header-right hide" data-auth-only>
            <img class="header-action" src="" onerror="this.src='/images/profile_placeholder.svg'" id="open-profile-settings"/>
            <div class="profile-menu hide">
                <button type="button" data-action="profile-edit">회원정보수정</button>
                <button type="button" data-action="password-change">비밀번호수정</button>
                <button type="button" data-action="logout">로그아웃</button>
            </div>
        </div>
    </div>
    <section class="community-banner">
        <div class="banner__content">
            <div class="banner__title">하루 조각</div>
            <div class="banner__subtitle">함께 만드는 조각 모음</div>
        </div>
    </section>
    <div class="flex">
        <aside class="side">
            <div class="side-card side-profile">
                <div class="side-profile__member hide" data-auth-only>
                    <div class="profile-thumb" data-role="side-profile-image" ></div>
                    <div class="side-profile__name" data-role="side-nickname">익명</div>
                    <div class="side-profile__hint">오늘도 새로운 조각을 부탁해요</div>
                    <div class="side-profile__actions">
                        <button type="button" data-action="write">글쓰기</button>
                    </div>
                </div>
                <div class="side-profile__guest" data-auth-guest>
                    <div class="side-profile__guest-title">로그인하고 다양한 기능을 이용해보세요!</div>
                    <div class="side-profile__guest-actions">
                        <button type="button" class="btn-login-guest" data-action="login">로그인</button>
                        <button type="button" class="btn-join-guest" data-action="join">회원가입</button>
                    </div>
                </div>
            </div>
        </aside>
        <main class="page post-page">
            <div class="post-page-wrapper">
                <div id="post-summary" data-post-id="">
                    <div id="post-title"></div>
                    <div class="post-author-meta">
                        <div class="author-meta-left">
                            <div class="profile-image-wrapper author-profile-image">
                                <img id="post-author-image" class="profileImage" src="../images/profile_placeholder.svg" alt="작성자 프로필">
                            </div>
                            <div class="authorNickname" id="post-author-nickname"></div>
                            <div class="post-card-date-field" id="post-created-at"></div>
                        </div>
                        <div class="post-card-count-field post-detail-counts">
                            <button class="icon-btn" id="post-like-btn" aria-label="좋아요">
                                <svg viewBox="0 0 24 24"><path d="M12 21s-6.4-4.2-9-9.2C1 8 2.4 4.5 6 4.5c2 0 3.4 1.4 4 2.4.6-1 2-2.4 4-2.4 3.6 0 5 3.5 3 7.3-2.6 5-9 9.2-9 9.2Z"/></svg>
                                <span id="post-like-count">0</span>
                            </button>
                            <div class="icon-meta">
                                <svg viewBox="0 0 24 24"><path d="M4 5h16v10H7l-3 3V5Z"/></svg>
                                <span id="post-comment-count">0</span>
                            </div>
                            <div class="icon-meta">
                                <svg viewBox="0 0 24 24"><path d="M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7Zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8Z"/></svg>
                                <span id="post-view-count">0</span>
                            </div>
                            <button class="icon-btn" id="post-share-btn" aria-label="공유">
                                <svg viewBox="0 0 24 24"><path d="M18 8.5a2.5 2.5 0 1 0-2.38-3.17L9.91 8.3a2.5 2.5 0 0 0 0 3.4l5.71 2.97A2.5 2.5 0 1 0 17 13.5l-5.71-2.97a2.5 2.5 0 0 0 0-3.4L17 4.16A2.5 2.5 0 0 0 18 8.5Z"/></svg>
                            </button>
                        </div>
                    </div>
                    <div id="author-area" class="hide">
                        <button id="postEditBtn">수정</button>
                        <button id="postdeleteBtn">삭제</button>
                    </div>
                </div>
                <div id="post-content-wrapper">
                    <img id="post-content-image" class="post-content-img hide" src="" alt="게시글 이미지"></img>
                    <div class="post-content" id="post-content-text"></div>
                </div>
                <div id="comment-write" >
                    <form id="comment-form">
                        <div>
                            <textarea id="inputComment" placeholder="댓글을 남겨주세요!"></textarea>
                        </div>
                        <div>
                            <button id="submitComment" class="comment-submit-btn comment-submit-disabled" disabled data-auth-only>댓글 입력</button>
                            <div data-auth-guest>로그인 후 댓글 작성</div>
                        </div>
                    </form>
                </div>
                <div id="comment-view">
                    
                </div>
                <div id="sentinel"></div>
            </div>
            <div id="comment-delete-modal" class="modal-overlay hide" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-title">댓글을 삭제하시겠습니까?</div>
                    <div class="modal-description">삭제한 내용은 복구 할 수 없습니다.</div>
                    <div class="modal-actions">
                        <button type="button" id="comment-delete-cancel" class="modal-btn modal-btn-cancel">취소</button>
                        <button type="button" id="comment-delete-confirm" class="modal-btn modal-btn-confirm">확인</button>
                    </div>
                </div>
            </div>
            <div id="post-delete-modal" class="modal-overlay hide" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-title">게시글을 삭제하시겠습니까?</div>
                    <div class="modal-description">삭제한 내용은 복구 할 수 없습니다.</div>
                    <div class="modal-actions">
                        <button type="button" id="post-delete-cancel" class="modal-btn modal-btn-cancel">취소</button>
                        <button type="button" id="post-delete-confirm" class="modal-btn modal-btn-confirm">확인</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    
</body>
</html>
